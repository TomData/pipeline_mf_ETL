project:
  name: mf_etl
  env: dev

paths:
  raw_root: /media/tom/Hdd_240GB/data
  data_root: ./data
  bronze_root: ./data/bronze
  silver_root: ./data/silver
  gold_root: ./data/gold
  artifacts_root: ./artifacts
  logs_root: ./logs

precision:
  bronze_float: float64
  silver_float: float32
  gold_float: float32

parquet:
  compression: zstd
  compression_level: 3
  statistics: true

validation:
  suspicious_range_pct_threshold: 0.5
  suspicious_return_pct_threshold: 0.3
  gap_days_warn_threshold: 7

indicators:
  tmf_period: 21
  eps: 1.0e-12
  proxy_period: 21
  float_dtype_override: null

event_grammar:
  pivot_mode: 3bar
  respect_fail_lookahead_bars: 10
  hold_consecutive_bars: 5
  tmf_burst_abs_threshold: 0.15
  tmf_burst_slope_threshold: 0.05
  activity_windows: [5, 20]
  eps: 1.0e-12

gold_features:
  eps: 1.0e-12
  activity_windows: [5, 20]
  score_weights:
    zero: 1.0
    respect: 2.0
    burst: 2.0
    hold: 1.5
  recency_clip_bars: 20
  float_dtype_override: null
  export:
    default_drop_null_key_features: true

research_clustering:
  default_feature_list:
    - tmf_21
    - tmf_abs
    - tmf_slope_1
    - tmf_slope_5
    - tmf_slope_10
    - tmf_curvature_1
    - tti_proxy_v1_21
    - tti_proxy_slope_1
    - tti_proxy_slope_5
    - long_flow_score_20
    - short_flow_score_20
    - delta_flow_20
    - flow_activity_20
    - flow_bias_20
    - long_burst_20
    - short_burst_20
    - persistence_pos_20
    - persistence_neg_20
    - oscillation_index_20
    - respect_fail_balance_20
    - rec_tmf_zero_up_20
    - rec_tmf_zero_down_20
    - rec_tmf_burst_up_20
    - rec_tmf_burst_down_20
    - state_run_length
  scaler: standard
  scaling_scope_default: global
  split_mode_default: none
  time_split:
    train_end: null
    test_start: null
    test_end: null
  stability:
    seeds_default: 10
    seed_start_default: 42
  clip_zscore: 8.0
  silhouette_sample_max: 200000
  random_state: 42
  kmeans:
    n_init: 20
    max_iter: 300
  gmm:
    covariance_type: diag
    reg_covar: 1.0e-6
    max_iter: 200
  forward_windows: [5, 10, 20]
